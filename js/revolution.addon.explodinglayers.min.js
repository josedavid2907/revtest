/* 
 * @author    ThemePunch <info@themepunch.com>
 * @link      http://www.themepunch.com/
 * @copyright 2018 ThemePunch
*/

;(function(){function r(){var a=jQuery(this),b=a.attr("data-frames"),c=b.split('{"frame":"hover"'),d=JSON.parse(b);c=1<c.length?',{"frame":"hover"'+c[1].replace("]",""):"";!d||!d.length||2>d.length||(b=d[0],d=d[1],b=b.hasOwnProperty("delay")?b.delay:1E3,d=d.hasOwnProperty("delay")?d.delay:1E3,c='[{"delay":"'+b+'","speed":1000,"frame":"0","to":"o:1;","ease":"Power2.easeOut"},{"delay":"'+d+'","speed":1000,"frame":"999","ease":"Power2.easeOut"}'+c+"]",a.attr("data-explodinglayersin")&&a.addClass("revaddonexplayerhide"),
a.addClass("revaddonexplayer").attr("data-frames",c).data("frames",JSON.parse(c)))}function y(a){if("transparent"===a.trim())return["#ffffff",!1];if(-1!==a.search(/\[\{/))try{a=JSON.parse(a.replace(/&/g,'"'));for(var b=a.colors,c=b.length,d=[],h,g=0;g<c;g++){var f=b[g];delete f.align;h?JSON.stringify(f)!==JSON.stringify(h)&&(d[d.length]=f):d[d.length]=f;h=f}a.colors=d;return[a,!0]}catch(B){return["#ffffff",!1]}else return-1!==a.search("#")?[a,!1]:-1!==a.search("rgba")?[a.replace(/\s/g,"").replace(/false/g,
"1"),!1]:-1!==a.search("rgb")?[a.replace(/\s/g,""),!1]:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)?[a,!1]:["#ffffff",!1]}function z(a){if(a[1]){a=a[0];if("radial"===a.type){var b=a.colors;a=b.length;for(var c,d="explodinglayers"+Math.floor(1E4*Math.random()),h='<defs><radialGradient id="'+d+'">',g,f=0;f<a;f++)c=b[f],g=parseInt(c.position,10),h+='<stop offset="'+g+'%" style="stop-color: rgb('+c.r+","+c.g+","+c.b+"); stop-opacity: "+c.a+'" />';return["url(#"+d+")",h+"</radialGradient></defs>"]}b=a.colors;
c=a.angle;c=parseInt(c,10)/180*Math.PI;d=Math.cos(Math.abs((.5*(Math.floor(c/Math.PI*2)+2)+.25)*Math.PI-c))*Math.sqrt(2);a=d*Math.cos(c);c=d*Math.sin(c);d=[0>a?1:0,0>c?1:0,0<=a?a:a+1,0<=c?c:c+1];a=b.length;c="explodinglayers"+Math.floor(1E4*Math.random());f='<defs><linearGradient id="'+c+'" x1="'+d[0]+'" y1="'+d[1]+'" x2="'+d[2]+'" y2="'+d[3]+'">';for(g=0;g<a;g++)d=b[g],h=parseInt(d.position,10),f+='<stop offset="'+h+'%" style="stop-color: rgb('+d.r+","+d.g+","+d.b+"); stop-opacity: "+d.a+'" />';
return["url(#"+c+")",f+"</linearGradient></defs>"]}return a[0]}function t(a,b){this.el=a;this.o=b;this.init()}if("undefined"!==typeof jQuery){jQuery(".tp-caption[data-explodinglayersin]",".tp-caption[data-explodinglayersin]").each(function(){r.call(this)});window.ExplodingLayersAddOn=function(a,b){function c(){h(a(this),!0)}function d(){b.find(".tp-revslider-slidesli").each(c)}function h(b,e){b.find(".tp-caption[data-explodinglayersin], .tp-caption[data-explodinglayersout]").each(function(){var c=
a(this),d=c.data("revaddonexpeffect");if(d){var k=(e=e&&-1!==b.attr("class").search(/processing-revslide|active-revslide/))?d.disintegrating?"addClass":"removeClass":"addClass";d.reset(e);if(c.attr("data-explodinglayersin"))c[k]("revaddonexplayerhide")}})}function g(b,e){for(var c in e)e.hasOwnProperty(c)&&(e[c.replace("_"+b,"")]=e[c],delete e[c]);c=a(this);e.effect=c.data("revaddonexpeffect")||new t(this,e);var d={revaddonexpeffect:e.effect},k=a.extend({},e);d["revaddonexplayer"+b]={orig:k,options:e,
direction:b};c.data(d)}function f(a,e){if(v.hasOwnProperty(a))e=Math.max(parseFloat(e),v[a]);else if("easing"===a){var b=e.split(".");e=2===b.length?punchgs[b[0]][b[1]]:punchgs.hasOwnProperty(e)?punchgs[e]:punchgs.Power3.easeOut}return e}function n(a,e,b){if(!e)return!1;if(0===b)return f(a,e[b]);var c=b;for(b=e[b];"inherit"===b;)c--,b=-1<c?e[c]:e[0];return f(a,b)}function q(a,b,c){if("on"===b["random"+a]){var e=Math.max(Math.round(.5*c),1),d=Math.round(2*c);b[a]=function(){return Math.floor(Math.random()*
d)+e}}}function A(a,b,c,d){var e=0,g=w.width();if(m)for(var h=m.length,f=0;f<h;f++){var k=m[f];if(l!==k){g<k&&(e=f);var l=k}}for(var p in a)a.hasOwnProperty(p)&&"effect"!==p&&(b[p]=n(p,b[p],e));q("size",b,b.size);q("speed",b,b.speed);b.sync="on"===b.sync;a=y(b.color);a[1]?(l=z(a),a=l[0],l=l[1]):(a=a[0],l="");l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">'+l;"circle"!==b.type?(k="<path ",e="></path>"):(k='<circle cx="12" cy="12" r="12" ',e=" />");l="fill"===
b.style?l+(k+'fill="'+a+'" d="'+b.type+'"'+e):l+(k+'fill="transparent" d="'+b.type+'" stroke="'+a+'" stroke-width="1"'+e);l+="</svg>";a=new Image;l="data:image/svg+xml;base64,"+btoa(l);k=document.createElement("canvas");var u=k.getContext("2d");k.width=k.height=24;a.onload=function(){u.drawImage(this,0,0);b.type=u.canvas;c.run(d)};a.src=l}if(a&&b){var x,m,w=a(window),v={padding:0,size:1,speed:0,density:1,power:0,duration:300};b.find(".tp-caption[data-explodinglayersin]",".tp-caption[data-explodinglayersin]").each(function(){-1===
this.className.search("revaddonexplayer")&&r.call(this)});b.on("revolution.slide.onloaded",function(){if(m=b[0].opt.responsiveLevels){for(Array.isArray(m)||(m=[m]);4>m.length;)m[m.length]=m[m.length-1];for(var a=0;4>a;a++)m[a]=parseInt(m[a],10)}b.find(".tp-caption[data-explodinglayersin]").each(function(){var a=this.getAttribute("data-explodinglayersin");a&&(a=JSON.parse(a))&&g.apply(this,["in",a])});b.find(".tp-caption[data-explodinglayersout]").each(function(){var a=this.getAttribute("data-explodinglayersout");
a&&(a=JSON.parse(a))&&g.apply(this,["out",a])});w.on("resize",function(){clearTimeout(x);x=setTimeout(d,50)})}).on("revolution.slide.onbeforeswap revolution.slide.onafterswap",function(a,b){-1!==a.namespace.search("before")?b.nextslide&&b.nextslide.length&&h(b.nextslide):b.prevslide&&b.prevslide.length&&h(b.prevslide)}).on("revolution.slide.layeraction",function(b,c){var d=c.layer.data("revaddonexpeffect"),e=c.layer.hasClass("tp-static-layer"),g=e&&!c.layer.hasClass("revaddonexpstatic");if(d){if("enterstage"===
c.eventtype||g){e&&c.layer.addClass("revaddonexpstatic");var f=c.layer.data("revaddonexplayerin");var h=!1}else"leavestage"===c.eventtype&&(f=c.layer.data("revaddonexplayerout"),h=!0);f&&(f.options=a.extend({},f.orig),d.o=f.options,A(f.orig,f.options,d,h))}})}};t.prototype={init:function(){this.particles=[];this.frame=null;this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");this.canvas.className="revaddon-explayer-canvas";this.canvas.style="display:none;";this.wrapper=
document.createElement("div");this.wrapper.className="revaddon-explayer-wrapper";this.el.parentNode.insertBefore(this.wrapper,this.el);this.wrapper.appendChild(this.el);this.parentWrapper=document.createElement("div");this.parentWrapper.className="revaddon-explayer";this.wrapper.parentNode.insertBefore(this.parentWrapper,this.wrapper);this.parentWrapper.appendChild(this.wrapper);this.parentWrapper.appendChild(this.canvas)},loop:function(){this.updateRevAddonExpBtn();this.renderRevAddonExpBtn();this.isAnimating()&&
(this.frame=requestAnimationFrame(this.loop.bind(this)))},updateRevAddonExpBtn:function(){for(var a,b=0;b<this.particles.length;b++)a=this.particles[b],a.life>a.death?(!1===this.total&&(this.total=this.particles.length),this.particles.splice(b,1),this.o.sync&&this.updateTransform(this.particles.length)):(a.x+=a.speed,a.y=this.o.power*Math.sin(a.counter*a.increase),a.life++,a.counter+=this.disintegrating?1:-1);this.particles.length||(this.pause(),this.canvas.style.display="none")},renderRevAddonExpBtn:function(){this.ctx.clearRect(0,
0,this.width,this.height);for(var a,b=0;b<this.particles.length;b++)a=this.particles[b],a.life<a.death&&(this.ctx.translate(a.startX,a.startY),this.ctx.rotate(a.angle*Math.PI/180),this.ctx.globalAlpha=this.disintegrating?1-a.life/a.death:a.life/a.death,this.ctx.drawImage(this.o.type,Math.round(a.x),Math.round(a.y),Math.round(a.size),Math.round(a.size)),this.ctx.globalAlpha=1,this.ctx.rotate(-a.angle*Math.PI/180),this.ctx.translate(-a.startX,-a.startY))},play:function(){this.frame=requestAnimationFrame(this.loop.bind(this))},
pause:function(){cancelAnimationFrame(this.frame);this.ctx.clearRect(0,0,this.width,this.height);this.frame=null},addParticle:function(a){var b=60*this.o.duration/1E3,c=q.fnc(this.o.speed)?this.o.speed():this.o.speed;this.particles.push({startX:a.x,startY:a.y,x:this.disintegrating?0:c*-b,y:0,angle:360*Math.random()-180,counter:this.disintegrating?0:b,increase:2*Math.PI/100,life:0,death:this.disintegrating?b-20+40*Math.random():b,speed:c,size:q.fnc(this.o.size)?this.o.size():this.o.size})},addRevAddonExpBtn:function(a,
b){var c=this.disintegrating?b-this.lastProgress:this.lastProgress-b;this.lastProgress=b;var d=this.o.padding,h=this.o.padding,g=(this.isHorizontal()?a.width:a.height)*b+c*(this.disintegrating?100:this.o.duration);this.isHorizontal()?d+="left"===this.o.direction?g:a.width-g:h+="top"===this.o.direction?g:a.height-g;c=Math.floor(this.o.density*(100*c+1));if(0<c)for(;c--;)this.addParticle({x:d+(this.isHorizontal()?0:a.width*Math.random()),y:h+(this.isHorizontal()?a.height*Math.random():0)});this.isAnimating()||
(this.canvas.style.display="block",this.play())},addTransforms:function(a){var b=this.isHorizontal()?"translateX":"translateY";a="left"===this.o.direction||"top"===this.o.direction?a:-a;this.wrapper.style[n]=b+"("+a+"%)";this.el.style[n]=b+"("+-a+"%)";this.changed||(this.el.className=this.el.className.replace("revaddonexplayerhide",""),this.wrapper.style.visibility="visible",this.changed=!0)},updateTransform:function(a){this.addTransforms(a/this.total*100)},update:function(){if(this.disintegrating){var a=
this.tween.value;this.addTransforms(a)}else if(a=100-this.tween.value,!this.o.sync){var b=this;this.timers[this.timers.length]=setTimeout(function(){b.addTransforms(a)},this.o.duration)}this.addRevAddonExpBtn(this.rect,a/100)},run:function(a){this.reset();this.lastProgress=(this.disintegrating=a)?0:1;this.rect=this.el.getBoundingClientRect();this.width=this.canvas.width=this.o.width||this.rect.width+2*this.o.padding;this.height=this.canvas.height=this.o.height||this.rect.height+2*this.o.padding;this.changed=
!1;this.timers=[];this.animate(this.update.bind(this))},setDisplay:function(a){this.canvas.style.display="none";this.wrapper.style.visibility=a?"visible":"hidden";this.wrapper.style[n]="none";this.el.style[n]="none"},reset:function(a){this.pause();this.particles=[];this.total=!1;this.tween&&(punchgs.TweenLite.killTweensOf(this.tween),delete this.tween);if(this.timers){for(;this.timers.length;)clearTimeout(this.timers[0]),this.timers.shift();delete this.timers}if(a){var b=this;requestAnimationFrame(function(){b.setDisplay(!0)})}else this.setDisplay()},
animate:function(a){var b=this;this.tween={value:0};return punchgs.TweenLite.to(this.tween,.001*this.o.duration,{value:100,ease:this.o.easing,onUpdate:a,onComplete:function(){b.disintegrating&&(b.wrapper.style.visibility="hidden")}})},isAnimating:function(){return!!this.frame},isHorizontal:function(){return"left"===this.o.direction||"right"===this.o.direction}};var q={arr:function(a){return Array.isArray(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a}},
n=function(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}(document.body,"transform")?"transform":"-webkit-transform"}})();